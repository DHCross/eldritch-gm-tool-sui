<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Roster - Eldritch GM Tools</title>
  <link rel="stylesheet" href="src/css/main.css">
  <link rel="stylesheet" href="src/css/roster.css">
</head>
<body>
  <button onclick="window.location.href='index.html'" class="back-btn">Back to Home</button>
  <h1>Roster</h1>
  <div id="party-controls">
    <input type="text" id="new-folder-name" placeholder="New Party Name">
    <button id="add-folder-btn">Add Party</button>
  </div>
  <div id="party-instructions">
    <p><strong>How it works:</strong></p>
    <ol>
      <li>Name a party to create its folder.</li>
      <li>Select characters from <em>All PCs</em> and use <strong>Move Selected PCs to Party</strong> to place them in the folder.</li>
      <li>Use the folder’s <em>Select</em> button or the checkboxes beside each character to pick the whole party or just a few members.</li>
    </ol>
  </div>
  <section id="defense-guide">
    <h2>Defense Level Reference</h2>
    <p>The defense level of an adventuring party is based on the combined MV of every PC’s Active and Passive defense pools. Use the following ranges when gauging how tough an encounter should be.</p>
    <table>
      <thead>
        <tr>
          <th>Defense Level</th>
          <th>1 PC</th>
          <th>2 PCs</th>
          <th>4 PCs</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Practitioner</td>
          <td>8–14</td>
          <td>16–28</td>
          <td>32–56</td>
        </tr>
        <tr>
          <td>Competent</td>
          <td>15–28</td>
          <td>30–56</td>
          <td>60–112</td>
        </tr>
        <tr>
          <td>Proficient</td>
          <td>29–42</td>
          <td>58–84</td>
          <td>116–168</td>
        </tr>
        <tr>
          <td>Advanced</td>
          <td>43–56</td>
          <td>86–112</td>
          <td>172–224</td>
        </tr>
        <tr>
          <td>Elite</td>
          <td>57–72</td>
          <td>114–144</td>
          <td>228–288</td>
        </tr>
      </tbody>
    </table>
  </section>
  <form id="manual-pc-form" class="manual-pc-form">
    <h2>Add Character Manually</h2>
    <p class="manual-hint">Enter the totals you already track for each PC so encounters stay balanced. Active Defense (AD) is the combined MV of <strong>Prowess + Agility + Melee</strong>; Passive Defense (PD) is the combined MV of <strong>Fortitude + Endurance + Strength</strong>.</p>
    <div class="manual-grid">
      <label>
        Character Name
        <input type="text" id="manual-name" required placeholder="E.g. Aria Stormsong" autocomplete="off">
      </label>
      <label>
        Player Name
        <input type="text" id="manual-player" placeholder="Optional">
      </label>
      <label>
        Gender
        <select id="manual-gender">
          <option value="">Unspecified</option>
          <option value="Female">Female</option>
          <option value="Male">Male</option>
          <option value="Nonbinary">Nonbinary</option>
        </select>
      </label>
      <label>
        Active Defense (AD)
        <small>Sum of Prowess + Agility + Melee (MV)</small>
        <input type="text" id="manual-ad" inputmode="numeric" pattern="[0-9]*" placeholder="0" autocomplete="off">
      </label>
      <label>
        Passive Defense (PD)
        <small>Sum of Fortitude + Endurance + Strength (MV)</small>
        <input type="text" id="manual-pd" inputmode="numeric" pattern="[0-9]*" placeholder="0" autocomplete="off">
      </label>
      <label>
        Summary / Notes
        <input type="text" id="manual-summary" placeholder="Optional notes or class">
      </label>
      <label>
        Add to Existing Party
        <select id="manual-folder-select">
          <option value="">-- No folder --</option>
        </select>
      </label>
      <label>
        Or Create Party
        <input type="text" id="manual-new-folder" placeholder="Optional new party name">
      </label>
    </div>
    <button type="submit" class="manual-submit">Add Character to Roster</button>
  </form>
  <div id="folders-list"></div>
  <div id="pcs-list"></div>
  <div id="add-to-folder-controls">
    <select id="folder-select"></select>
    <span id="selected-folder-indicator">Target Party: <strong id="selected-folder-name">None</strong></span>
    <button id="add-to-folder-btn">Move Selected PCs to Party</button>
    <button id="remove-from-folder-btn">Remove Selected PCs from Party</button>
  </div>
  <div id="party-defense">
    <h2>Party Defense Level</h2>
    <div id="defense-summary">Select a party or PCs to view defense level.</div>
  </div>
  <script src="src/js/roster.js"></script>
</body>
</html>
